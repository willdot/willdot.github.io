<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Go variables | Willdot</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="This post will go through the uses of variables in Go.
Creating a variable name := &#34;will&#34; This has created a variable called &rsquo;name&rsquo; and has the value &ldquo;will&rdquo;. Go knows that this is a string, so you don&rsquo;t need to give it a type.
Changing the value of a variable If we want to change the value of a variable we do:
name = &#34;someone else&#34; Creating variables globally for the package If you want to create a few variables that are used in multiple functions within your package, you can declare them in a special way.">
    <meta name="generator" content="Hugo 0.99.1" />
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Go variables" />
<meta property="og:description" content="This post will go through the uses of variables in Go.
Creating a variable name := &#34;will&#34; This has created a variable called &rsquo;name&rsquo; and has the value &ldquo;will&rdquo;. Go knows that this is a string, so you don&rsquo;t need to give it a type.
Changing the value of a variable If we want to change the value of a variable we do:
name = &#34;someone else&#34; Creating variables globally for the package If you want to create a few variables that are used in multiple functions within your package, you can declare them in a special way." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://willdot.github.io/posts/5-govariables/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-04T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-07-04T00:00:00+00:00" />

<meta itemprop="name" content="Go variables">
<meta itemprop="description" content="This post will go through the uses of variables in Go.
Creating a variable name := &#34;will&#34; This has created a variable called &rsquo;name&rsquo; and has the value &ldquo;will&rdquo;. Go knows that this is a string, so you don&rsquo;t need to give it a type.
Changing the value of a variable If we want to change the value of a variable we do:
name = &#34;someone else&#34; Creating variables globally for the package If you want to create a few variables that are used in multiple functions within your package, you can declare them in a special way."><meta itemprop="datePublished" content="2018-07-04T00:00:00+00:00" />
<meta itemprop="dateModified" content="2018-07-04T00:00:00+00:00" />
<meta itemprop="wordCount" content="505">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go variables"/>
<meta name="twitter:description" content="This post will go through the uses of variables in Go.
Creating a variable name := &#34;will&#34; This has created a variable called &rsquo;name&rsquo; and has the value &ldquo;will&rdquo;. Go knows that this is a string, so you don&rsquo;t need to give it a type.
Changing the value of a variable If we want to change the value of a variable we do:
name = &#34;someone else&#34; Creating variables globally for the package If you want to create a few variables that are used in multiple functions within your package, you can declare them in a special way."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Willdot
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Go variables</h1>
      
      <p class="tracked">
        By <strong>Will Andrews</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2018-07-04T00:00:00Z">July 4, 2018</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>This post will go through the uses of variables in Go.</p>
<h3 id="creating-a-variable">Creating a variable</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">name</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;will&#34;</span>
</span></span></code></pre></div><p>This has created a variable called &rsquo;name&rsquo; and has the value &ldquo;will&rdquo;. Go knows that this is a string, so you don&rsquo;t need to give it a type.</p>
<h3 id="changing-the-value-of-a-variable">Changing the value of a variable</h3>
<p>If we want to change the value of a variable we do:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">name</span> = <span style="color:#e6db74">&#34;someone else&#34;</span>
</span></span></code></pre></div><h3 id="creating-variables-globally-for-the-package">Creating variables globally for the package</h3>
<p>If you want to create a few variables that are used in multiple functions within your package, you can declare them in a special way.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">firstName</span>, <span style="color:#a6e22e">surName</span> <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span> <span style="color:#66d9ef">int32</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">height</span> = <span style="color:#ae81ff">3.2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p>There&rsquo;s a few things going on here.</p>
<ul>
<li>If you have multiple strings, you can create them on the same line, separated by a comma. You can&rsquo;t give them a value doing this, so they will be initialized with a nil value.</li>
<li>We have created an age variable and said it is of type int32.</li>
<li>We created the height variable and gave it a value.</li>
</ul>
<p>Now these variables can be used anywhere in the package.</p>
<h3 id="pointers">Pointers</h3>
<p>So far, we&rsquo;ve created variables and assigned values to them. However when passing variables to a function, we are passing values and not references. So if we pass the name variable we created earlier into a function, it creates a copy of that variable that is only in scope of the function. So if we alter that value of the variable in the function, once the function has completed, the variable won&rsquo;t have changed in the calling function. For example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;will&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">changeName</span>(<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">changeName</span>(<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">input</span> = <span style="color:#e6db74">&#34;someone else&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This code will output the following:</p>
<pre tabindex="0"><code>will
will
someone else
will
</code></pre><p>If we want to change the value of the variable that has been passed in, we need to reference it with a pointer. This allows us to get the memory address of the variable and pass that into a function and then we can use this address to change the value from within that function.</p>
<p>The first thing we need to do is assign the address to a pointer variable:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">namePointer</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">name</span>
</span></span></code></pre></div><p>Once we have that, we need to change the function so that we allow a pointer to be sent as a parameter.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">changeName</span>(<span style="color:#a6e22e">input</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Next we can change the value at the address sent into the method as a parameter.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">changeNameRef</span>(<span style="color:#a6e22e">input</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">*</span><span style="color:#a6e22e">input</span> = <span style="color:#e6db74">&#34;someone else&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>That&rsquo;s it. Let&rsquo;s see what the following code does:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;will&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">namePointer</span> <span style="color:#f92672">:=</span> <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">namePointer</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">changeName</span>(<span style="color:#a6e22e">namePointer</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">name</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">changeName</span>(<span style="color:#a6e22e">input</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span><span style="color:#a6e22e">input</span> = <span style="color:#e6db74">&#34;someone else&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">input</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This will output the following</p>
<pre tabindex="0"><code>will
*the memory address will be here*
*the memory address will be here again*
will
someone else
someone else
</code></pre><p>Note that we have printed the memory address out as well just so we can see that we are using a reference in the function.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://willdot.github.io" >
    &copy;  Willdot 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
