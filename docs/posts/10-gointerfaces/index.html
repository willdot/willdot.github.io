<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Interfaces in Go | Willdot</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Interfaces are a very useful part of software development as they allow the code to be decoupled. In Go, a language where there aren&rsquo;t classes, we can use the structs and kind of use them as a class. That way we can create interfaces and then create structs that implement these interfaces.
Creating an interface in Go Creating an interface is quite easy.
type SomeService interface { DoSomething(string) string DoSomethingElse(int, string) string } Creating a struct and then making it implement the interface Next we create a struct, but instead of putting the functions from the interface inside the struct (because structs can only contain fields), we create the functions and then tell the functions what the receiver is.">
    <meta name="generator" content="Hugo 0.119.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="Interfaces in Go" />
<meta property="og:description" content="Interfaces are a very useful part of software development as they allow the code to be decoupled. In Go, a language where there aren&rsquo;t classes, we can use the structs and kind of use them as a class. That way we can create interfaces and then create structs that implement these interfaces.
Creating an interface in Go Creating an interface is quite easy.
type SomeService interface { DoSomething(string) string DoSomethingElse(int, string) string } Creating a struct and then making it implement the interface Next we create a struct, but instead of putting the functions from the interface inside the struct (because structs can only contain fields), we create the functions and then tell the functions what the receiver is." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://willdot.github.io/posts/10-gointerfaces/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-08-12T00:00:00+00:00" />
<meta itemprop="name" content="Interfaces in Go">
<meta itemprop="description" content="Interfaces are a very useful part of software development as they allow the code to be decoupled. In Go, a language where there aren&rsquo;t classes, we can use the structs and kind of use them as a class. That way we can create interfaces and then create structs that implement these interfaces.
Creating an interface in Go Creating an interface is quite easy.
type SomeService interface { DoSomething(string) string DoSomethingElse(int, string) string } Creating a struct and then making it implement the interface Next we create a struct, but instead of putting the functions from the interface inside the struct (because structs can only contain fields), we create the functions and then tell the functions what the receiver is."><meta itemprop="datePublished" content="2018-08-12T00:00:00+00:00" />
<meta itemprop="dateModified" content="2018-08-12T00:00:00+00:00" />
<meta itemprop="wordCount" content="611">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Interfaces in Go"/>
<meta name="twitter:description" content="Interfaces are a very useful part of software development as they allow the code to be decoupled. In Go, a language where there aren&rsquo;t classes, we can use the structs and kind of use them as a class. That way we can create interfaces and then create structs that implement these interfaces.
Creating an interface in Go Creating an interface is quite easy.
type SomeService interface { DoSomething(string) string DoSomethingElse(int, string) string } Creating a struct and then making it implement the interface Next we create a struct, but instead of putting the functions from the interface inside the struct (because structs can only contain fields), we create the functions and then tell the functions what the receiver is."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Willdot
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1">Interfaces in Go</h1>
      
      <p class="tracked">
        By <strong>Will Andrews</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2018-08-12T00:00:00Z">August 12, 2018</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>Interfaces are a very useful part of software development as they allow the code to be decoupled. In Go, a language where there aren&rsquo;t classes, we can use the structs and kind of use them as a class. That way we can create interfaces and then create structs that implement these interfaces.</p>
<h3 id="creating-an-interface-in-go">Creating an interface in Go</h3>
<p>Creating an interface is quite easy.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">SomeService</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">DoSomething</span>(<span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">DoSomethingElse</span>(<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="creating-a-struct-and-then-making-it-implement-the-interface">Creating a struct and then making it implement the interface</h3>
<p>Next we create a struct, but instead of putting the functions from the interface inside the struct (because structs can only contain fields), we create the functions and then tell the functions what the receiver is. This essentially assigns the function to the struct, and so it can only be called from a structs instance.</p>
<p>So first, we create a struct</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">aService</span> <span style="color:#66d9ef">struct</span>{}
</span></span></code></pre></div><p>Then we create the functions and just before the function name, we tell it what the receiver is. In this case, the receiver will be the struct &lsquo;aService&rsquo;. So for both functions from within the interface, we will have an implementation of them both.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">aService</span>) <span style="color:#a6e22e">DoSomething</span>(<span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;!&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">aService</span>) <span style="color:#a6e22e">DoSomethingElse</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Itoa</span>(<span style="color:#a6e22e">i</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now that we have both functions that the interface requires, assigned to a struct, we can now use them.</p>
<h3 id="using-the-functions">Using the functions</h3>
<p>Create a new instance of the aService struct and call the functions. Simple.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a6e22e">x</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">aService</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">response</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">DoSomething</span>(<span style="color:#e6db74">&#34;Hello&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">response</span>)
</span></span></code></pre></div><p>We should then get &ldquo;Hello!&rdquo; as the response.</p>
<h3 id="create-a-function-that-takes-an-interface-as-a-parameter">Create a function that takes an interface as a parameter</h3>
<p>So now we can create structs that implement an interface, we can now create a function that takes the interface as a parameter, meaning that any struct that implements this interface can be passed into the function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">printSomething</span>(<span style="color:#a6e22e">x</span> <span style="color:#a6e22e">SomeService</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">DoSomething</span>(<span style="color:#e6db74">&#34;Hello again&#34;</span>))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">serv</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">aService</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printSomething</span>(<span style="color:#a6e22e">serv</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Now when we call this function, and pass in the service as a parameter, we will get &ldquo;Hello!&rdquo; printed to the console.</p>
<h3 id="using-generic-interfaces">Using generic interfaces</h3>
<p>Sometimes a function needs to receive a parameter of just about anything. This can be done by using &lsquo;interface{}&rsquo; as the parameter. Then you can send in anything to the function and use it. In this example, I am going to create a function that accepts a generic interface, and then if it is of my &lsquo;aService&rsquo; type, then I&rsquo;ll call one of the functions on this struct.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">genInterface</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{}) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>.(<span style="color:#a6e22e">aService</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">ok</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">true</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">DoSomething</span>(<span style="color:#e6db74">&#34;This was generic&#34;</span>))
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="summary">Summary</h3>
<p>Try removing the doSomethingElse function from your code, and seeing if it will run. It won&rsquo;t because the struct won&rsquo;t implement the interface. Even though we aren&rsquo;t using that function at the moment, it is something that is required to meet the interfaces requirements.</p>
<p>Full code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">SomeService</span> <span style="color:#66d9ef">interface</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">DoSomething</span>(<span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">DoSomethingElse</span>(<span style="color:#66d9ef">int</span>, <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">aService</span> <span style="color:#66d9ef">struct</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">aService</span>) <span style="color:#a6e22e">DoSomething</span>(<span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;!&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">aService</span>) <span style="color:#a6e22e">DoSomethingElse</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>, <span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span>) <span style="color:#66d9ef">string</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strconv</span>.<span style="color:#a6e22e">Itoa</span>(<span style="color:#a6e22e">i</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">printSomething</span>(<span style="color:#a6e22e">x</span> <span style="color:#a6e22e">SomeService</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">DoSomething</span>(<span style="color:#e6db74">&#34;Hello again&#34;</span>))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">genInterface</span>(<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">interface</span>{}) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">v</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">i</span>.(<span style="color:#a6e22e">aService</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">ok</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">true</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">DoSomething</span>(<span style="color:#e6db74">&#34;This was generic&#34;</span>))
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">serv</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">aService</span>{}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">response</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">serv</span>.<span style="color:#a6e22e">DoSomething</span>(<span style="color:#e6db74">&#34;Go Go Go&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">response</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">response</span> = <span style="color:#a6e22e">serv</span>.<span style="color:#a6e22e">DoSomethingElse</span>(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34; is the magic number&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">response</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printSomething</span>(<span style="color:#a6e22e">serv</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">genInterface</span>(<span style="color:#a6e22e">serv</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>This code should return the following:</p>
<pre tabindex="0"><code>Go Go Go!
3 is the magic number
Hello again!
This was generic!
</code></pre><p>Now that you understand interfaces, the next thing to investigate is using these interfaces as proper services, dependency injection and testing.</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://willdot.github.io" >
    &copy;  Willdot 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
